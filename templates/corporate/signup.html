{% extends "base.html" %}
{% load static %}

{% block title %}Corporate Signup - GoExplorer{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <!-- BENEFITS BANNER -->
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2.5rem; border-radius: 12px; margin-bottom: 2rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                <div class="row align-items-center">
                    <div class="col-md-7">
                        <h2 style="margin-bottom: 1rem; font-weight: 700;">
                            <i class="fas fa-building"></i> Corporate Travel Solutions
                        </h2>
                        <p style="font-size: 1.1rem; margin-bottom: 1.5rem; opacity: 0.95;">
                            Streamline your organization's travel with exclusive benefits designed for businesses
                        </p>
                        <div class="row">
                            <div class="col-sm-6 mb-3">
                                <div style="background: rgba(255,255,255,0.15); padding: 1rem; border-radius: 8px;">
                                    <i class="fas fa-percentage" style="font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                                    <h5 style="margin-bottom: 0.25rem;">10% Auto Discount</h5>
                                    <small>Up to â‚¹1,000 per booking</small>
                                </div>
                            </div>
                            <div class="col-sm-6 mb-3">
                                <div style="background: rgba(255,255,255,0.15); padding: 1rem; border-radius: 8px;">
                                    <i class="fas fa-wallet" style="font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                                    <h5 style="margin-bottom: 0.25rem;">Wallet Top-up</h5>
                                    <small>Prepaid for employees</small>
                                </div>
                            </div>
                            <div class="col-sm-6 mb-3">
                                <div style="background: rgba(255,255,255,0.15); padding: 1rem; border-radius: 8px;">
                                    <i class="fas fa-file-invoice" style="font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                                    <h5 style="margin-bottom: 0.25rem;">Centralized Billing</h5>
                                    <small>Single invoice for all bookings</small>
                                </div>
                            </div>
                            <div class="col-sm-6 mb-3">
                                <div style="background: rgba(255,255,255,0.15); padding: 1rem; border-radius: 8px;">
                                    <i class="fas fa-headset" style="font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                                    <h5 style="margin-bottom: 0.25rem;">Priority Support</h5>
                                    <small>Dedicated account manager</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-5 text-center">
                        <div style="background: rgba(255,255,255,0.1); padding: 2rem; border-radius: 12px; border: 2px dashed rgba(255,255,255,0.3);">
                            <i class="fas fa-rocket" style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.9;"></i>
                            <h4 style="margin-bottom: 0.5rem;">Join 200+ Companies</h4>
                            <p style="opacity: 0.9; margin: 0;">Already saving on corporate travel</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card shadow">
                <div class="card-header" style="background-color: #667eea; color: white; padding: 1.5rem;">
                    <h3 class="mb-0"><i class="fas fa-clipboard-check"></i> Register Your Organization</h3>
                </div>
                <div class="card-body" style="padding: 2rem;">
                    {% if messages %}
                        {% for message in messages %}
                        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                        {% endfor %}
                    {% endif %}

                    <form method="post">
                        {% csrf_token %}
                        
                        <h5 class="mt-4 mb-3">Organization Details</h5>
                        
                        <div class="mb-3">
                            <label class="form-label">Company Name *</label>
                            <input type="text" name="company_name" class="form-control" 
                                   value="{{ form_data.company_name|default:'' }}" required>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Official Email Domain *</label>
                            <input type="text" name="email_domain" class="form-control" 
                                   value="{{ form_data.email_domain|default:user_domain }}" 
                                   placeholder="company.com" required>
                            <small class="text-muted">All users with this domain will be auto-linked to your corporate account</small>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">GST Number</label>
                            <input type="text" name="gst_number" class="form-control" 
                                   value="{{ form_data.gst_number|default:'' }}" 
                                   placeholder="Optional now, required for approval">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Account Type *</label>
                            <select name="account_type" class="form-select" required>
                                <option value="business" {% if form_data.account_type == 'business' %}selected{% endif %}>Business</option>
                                <option value="enterprise" {% if form_data.account_type == 'enterprise' %}selected{% endif %}>Enterprise</option>
                                <option value="startup" {% if form_data.account_type == 'startup' %}selected{% endif %}>Startup</option>
                                <option value="government" {% if form_data.account_type == 'government' %}selected{% endif %}>Government</option>
                            </select>
                        </div>

                        <h5 class="mt-4 mb-3">Contact Person (Primary Administrator)</h5>

                        <div class="mb-3">
                            <label class="form-label">Contact Person Name *</label>
                            <input type="text" name="contact_person_name" class="form-control" 
                                   value="{{ form_data.contact_person_name|default:user_name }}" required>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Contact Email *</label>
                            <input type="email" name="contact_email" class="form-control" 
                                   value="{{ form_data.contact_email|default:user_email }}" required>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Contact Phone *</label>
                            <input type="tel" name="contact_phone" class="form-control" 
                                   value="{{ form_data.contact_phone|default:'' }}" required>
                        </div>

                        <div class="d-grid gap-2 mt-4">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="fas fa-paper-plane"></i> Submit Application
                            </button>
                            <a href="{% url 'core:home' %}" class="btn btn-outline-secondary">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
